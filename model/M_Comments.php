<?phpclass M_Comments extends M_PnP {    private static $instance;    private $mFunctions;    private $mMySQL;    public static function Instance() {        if (self::$instance == null) self::$instance = new self;        return self::$instance;    }    //    // Конструктор    //    private function __construct() {        $this->mFunctions = M_Functions::Instance();        $this->mMySQL = M_MySQL::Instance();    }    //    // Список всех комментов    //    public function comments_all($id_article) {        $sql = "SELECT * FROM `comments` WHERE `comments`.`id_article` = '%d' ORDER BY `comments`.`create_date` DESC;";        $sql = sprintf($sql, $this->mFunctions->protect($id_article));        return $result = $this->mMySQL->Select($sql);    }    //    // Добавить коммент    //    public function new_comment($text, $id_article) {        // массив полей и значений для записи в таблицу        $obj = array(   'id_comment'    => NULL,                        'text'          => $text,                        'id_user'       => '3',                        'id_article'    => $id_article,                        'create_date'   => date("Y-m-d H:i:s"));        // Запрос.        $result = $this->mMySQL->Insert('comments', $obj);        if (!$result) return false;//        $_SESSION['add_success'] = true;        return true;    }    //    // Изменить коммент    //    public function edit_article($id_article, $subject, $content) {        // массив полей и значений для записи в таблицу        $obj = array(   'subject'   => $subject,                        'content'   => $content);        $t = "id_article = '%d'";        $where = sprintf($t, $id_article);        $result = $this->mMySQL->Update('articles', $obj, $where);        if (!$result) return false;//        $_SESSION['update_success'] = true;        return true;    }}?>