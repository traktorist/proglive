<?phpclass M_Articles extends M_PnP {    private static $instance;    private $mFunctions;    private $mMySQL;    public static function Instance() {        if (self::$instance == null) self::$instance = new self;        return self::$instance;    }    //    // Конструктор    //    private function __construct() {        $this->mFunctions = M_Functions::Instance();        $this->mMySQL = M_MySQL::Instance();    }    //    // Список всех статей    //    public function articles_all() {        $sql = "SELECT * FROM `articles` ORDER BY `articles`.`create_date` DESC;";        return $this->mMySQL->Select($sql);    }    //    // Конкретная статья    //    public function get_article($id_article) {        $sql = "SELECT * FROM `articles` JOIN `users` USING (`id_user`) WHERE `articles`.`id_article` = '%d';";        $sql = sprintf($sql, $this->mFunctions->protect($id_article));        $result = $this->mMySQL->Select($sql);        return $result[0];    }    //    // Добавить статью    //    public function new_article($subject, $content) {        // массив полей и значений для записи в таблицу        $obj = array(   'id_article'    => NULL,                        'subject'       => $subject,                        'content'       => $content,                        'id_user'       => '1',                        'create_date'   => date("Y-m-d H:i:s"));        // Запрос.        $result = $this->mMySQL->Insert('articles', $obj);        if (!$result) return false;        $_SESSION['add_success'] = true;        return true;    }    //    // Изменить статью    //    public function edit_article($id_article, $subject, $content) {        // массив полей и значений для записи в таблицу        $obj = array(   'subject'   => $subject,                        'content'   => $content);        $t = "id_article = '%d'";        $where = sprintf($t, $id_article);        $result = $this->mMySQL->Update('articles', $obj, $where);        if (!$result) return false;        $_SESSION['update_success'] = true;        return true;    }    //    // Удалить статью    //    public function delete_article($id_article) {        $t = "id_article = '%d'";        $where = sprintf($t, $id_article);        $result = $this->mMySQL->Delete('articles', $where);        if (!$result) return false;        $_SESSION['delete_success'] = true;        return true;    }}?>