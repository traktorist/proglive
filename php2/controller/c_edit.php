<?include_once('../controller/c_startup.php');include_once('../model/m_main.php');// установка параметров, подключение к БД, старт сессииstartup();// Обработка отправки формы.if (!empty($_POST)) {    if ($_POST['subject'] == '' || $_POST['content'] == '') {           // не заполнено одно из полей        $id_article = $_POST['id_article'];        $subject = $_POST['subject'];        $content = $_POST['content'];        $empty_field = true;    }    else {                                                              // тема и текст статьи не пусты, переданы POST'ом - нужно что-то сделать с ней        if (isset($_POST['save'])) {            if (!edit_article($_POST['id_article'], $_POST['subject'], $_POST['content'])) die('Не удалось изменить запись в БД!');        }        if (isset($_POST['delete'])) {            if (!delete_article($_POST['id_article'])) die('Не удалось удалить запись из БД!');        }        header('Location: ../controller/c_editor.php');                             // статья добавлена или нажали кнопку Отмена        die();    }}else {    // Извлечение статьи если есть её id    if (!isset($_GET['id_article'])) die('Не указан id статьи!');    elseif(!$article = get_article($_GET['id_article'])) die('что-то пошло не так!');    $id_article = $article['id_article'];    $subject = $article['subject'];    $content = $article['content'];    $empty_field = false;}// Вывод в шаблон.$center_page = template('../view/v_edit.php', array('id_article' => $id_article,                                                    'subject' => $subject,                                                    'content' => $content,                                                    'empty_field' => $empty_field));$page = template('../view/v_main.php', array('center_page' => $center_page));echo $page;?>